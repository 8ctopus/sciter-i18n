<html
    window-resizable="true"
    window-width="1000dip"
    window-height="600dip"
>
<head>
<title>sciter i18n demo</title>
<style>

@import url("css/controls.css");
@import url("./vendor/8ctopus/sciter-pagecontrol/src/pagecontrol.css");

pagecontrol {
    size: *;
}

label,
span {
    width: *;
}

tab > div {
    flow: vertical;

    margin-top: 1em;
    border-spacing: 0.5em;

    background-color: color(panel);
}

plaintext#logger {
    height: 150dip;
}

checkbox#checkbox-label {
    flow: stack;
}

checkbox#checkbox-label > caption {
    display:block;
    visibility:hidden;
}

checkbox#checkbox-label:checked > caption.true {
    visibility:visible;
}

checkbox#checkbox-label:not(:checked) > caption.false {
    visibility:visible;
}

select[type="list"]#table {
    flow: table;
    width: 100%;
    height: 60dip;
}

select[type="list"]#table option {
    flow: table-row;
}

select[type="tree"] {
    width: max-content;
}

@import url("css/std-menu.css");
@import url("css/menu-bar.css");

menu.bar {
    width: 280dip;
}

button.context-menu {
    context-menu: selector(menu#context);
}

</style>
<script src="js/logger.js" />
<script type="module">

import {i18n} from "src/i18n.js";

import {showDialog} from "vendor/8ctopus/sciter-dialogs/src/dialog.js";

document.on("ready", function() {
    // initialize translation engine
    if (i18n.init("fr"))
        console.log("i18n init - OK");
    else
        console.error("i18n init - FAILED");

    // translate window
    i18n.i18n(document);
});

/**
 * Dialog callback
 * @param DOMElement root
 * @return void
 */
function dialogCallback(root)
{
    console.log("dialog callback");

    // translate dialog
    i18n.i18n(root);
}

// set dialog buttons on click event
document.on("click", "button", function(event, element) {
    let value;

    switch (element.id) {
        case "info":
            value = showDialog("info", i18n.m("Widget update successful."), "ok", dialogCallback);
            break;

        case "error":
            value = showDialog("error", i18n.m("Widget failed with error 18."), "ok help[https://duckduckgo.com]", dialogCallback);
            break;

        case "warning":
            value = showDialog("warning", i18n.m("no-update", "Widget could not be updated."), "ok", dialogCallback);
            break;

        case "question":
            value = showDialog("question", i18n.m("Do you want to update widget?"), "yes no cancel", dialogCallback);
            break;

        case "file":
            value = Window.this.selectFile(i18n.m("Select file"));
            break;

        case "folder":
            value = Window.this.selectFolder(i18n.m("Select folder"));
            break;

        default:
            //console.error("unknown element");
            return;
    }

    console.log("return value: " + value);
});

</script>
</head>
<body>
    <pagecontrol header="top">
        <tab title="general">
            <h1 data-i18n="key1">i18n engine test</h1>
            <h1 data-i18n>h1</h1>
            <h2 data-i18n>h2</h2>
            <h3 data-i18n>h3</h3>
            <p data-i18n>p</p>
            <span data-i18n>span</span>
            <label data-i18n>label</label>
            <ol>
                <li data-i18n>list item</li>
                <li data-i18n>list item</li>
            </ol>
        </tab>
        <tab title="buttons" selected>
            <button data-i18n>Do it!</button>
            <button data-i18n role="default-button">Default</button>
            <button data-i18n disabled>Disabled</button>
            <button data-i18n .success>Success</button>
            <button data-i18n .warning>Warning</button>
            <button data-i18n .danger>Danger</button>
        </tab>
        <tab title="editbox">
            <editbox data-i18n value="foo" placeholder="input with content" maxlength=6 filter="a~z" spellcheck="yes" />
            <editbox data-i18n placeholder="input text here" />
            <editbox data-i18n nullable placeholder="nullable" />
            <editbox data-i18n disabled value="disabled" />
            <input|password data-i18n placeholder="password" password-char="*" />
            <!-- https://github.com/c-smile/sciter-js-sdk/blob/main/docs/md/behaviors/behavior-masked-edit.md -->
            <input|masked mask="(###) ### - ####" />
        </tab>
        <tab title="number">
            <input|number data-i18n value="42" step="1" min="0" max="999" placeholder="number" />
            <input|number data-i18n step="1" min="0" max="999" placeholder="number" />
            <input|number disabled step="1" min="0" max="999" />
            <input|decimal value="42.13" />
            <input|integer value="42" />
        </tab>
        <tab title="radio">
            <!-- as="string | integer | float | numeric | auto" -->
            <radio (rgroup) data-i18n checked value="true" as="string">Yes</radio>
            <radio (rgroup) data-i18n value="false" as="string">No</radio>
            <radio (rgroup) data-i18n value="null" as="string">Undefined</radio>

            <radio (rgroupd) data-i18n disabled checked value="a">Disabled (Checked)</radio>
            <radio (rgroupd) data-i18n disabled value="b">Disabled</radio>
        </tab>
        <tab title="checkbox">
            <checkbox data-i18n checked>Checked</checkbox>
            <checkbox data-i18n>Unchecked</checkbox>
            <checkbox data-i18n mixed>Mixed</checkbox>

            <checkbox data-i18n disabled checked value="a">Disabled (Checked)</checkbox>
            <checkbox data-i18n disabled value="b">Disabled</checkbox>

            <checkbox #checkbox-label checked>
                <caption data-i18n .true>checked state</caption>
                <caption data-i18n .false>unchecked state</caption>
            </checkbox>
        </tab>
        <tab title="toggle">
            <toggle (foo) checked>
                <option data-i18n>No</option>
                <option data-i18n>Yes</option>
            </toggle>

            <hr />
            <span data-i18n>no label</span>
            <toggle (bar) />

            <hr />
            <span data-i18n>group</span>
            <toggle|radio(group) value="A" />
            <toggle|radio(group) value="B" checked />
            <toggle|radio(group) value="C" />
        </tab>

        <tab title="select|switch">
            <select|switch>
                <option data-i18n>Left</option>
                <option data-i18n>Center</option>
                <option data-i18n>Right</option>
            </select>
        </tab>

        <tab title="select|dropdown">
            <select|dropdown data-i18n novalue="dropdown">
                <option data-i18n>Apple</option>
                <option data-i18n>Apricot</option>
                <option data-i18n>Currant</option>
                <option data-i18n>Grapefruit</option>
                <option data-i18n>Peach</option>
                <option data-i18n>Pomegranate</option>
                <option data-i18n>Tamarind</option>
            </select>

            <select|dropdown editable>
                <option data-i18n>Apple</option>
                <option data-i18n>Apricot</option>
                <option data-i18n>Currant</option>
                <option data-i18n>Grapefruit</option>
                <option data-i18n>Peach</option>
                <option data-i18n>Pomegranate</option>
                <option data-i18n>Tamarind</option>
            </select>

            <select|dropdown data-i18n novalue="disabled" disabled>
                <option data-i18n>Apple</option>
                <option data-i18n>Apricot</option>
                <option data-i18n>Currant</option>
                <option data-i18n>Grapefruit</option>
                <option data-i18n>Peach</option>
                <option data-i18n>Pomegranate</option>
                <option data-i18n>Tamarind</option>
            </select>

            <select|dropdown>
                <option data-i18n>One</option>
                <optgroup label="Group 1">
                    <option data-i18n>Two</option>
                    <option data-i18n .toset>Three</option>
                    <option data-i18n>Four</option>
                </optgroup>
                <optgroup>
                    <caption data-i18n>Group 2</caption>
                    <option data-i18n>Five</option>
                    <option data-i18n>Six</option>
                    <option data-i18n>Seven</option>
                    <option data-i18n>Eight</option>
                </optgroup>
                <option data-i18n>Nine</option>
                <option data-i18n>Ten</option>
                <option data-i18n>Eleven</option>
                <option data-i18n>Twelve</option>
            </select>
        </tab>
        <tab title="select|list">
            <select|list multiple size=5>
                <option data-i18n>Apple</option>
                <option data-i18n selected>Apricot</option>
                <option data-i18n>Currant</option>
                <option data-i18n selected>Grapefruit</option>
                <option data-i18n>Peach</option>
                <option data-i18n>Pomegranate</option>
                <option data-i18n>Tamarind</option>
            </select>
            <select|list multiple="checkmarks" size=5 dir="rtl">
                <option data-i18n>Apple</option>
                <option data-i18n checked>Apricot</option>
                <option data-i18n checked>Currant</option>
                <option data-i18n>Grapefruit</option>
                <option data-i18n>Peach</option>
                <option data-i18n>Pomegranate</option>
                <option data-i18n>Tamarind</option>
            </select>
            <select|list #table size=3>
                <option value="1">
                    <span data-i18n>1</span>
                    <span data-i18n>Fox</span>
                </option>
                <option value="2">
                    <span data-i18n>2</span>
                    <span data-i18n>Bravo</span>
                </option>
                <option value="3">
                    <span data-i18n>3</span>
                    <span data-i18n>Alpha</span>
                </option>
            </select>
        </tab>
        <tab title="select|tree">
            <select|tree multiple="checkmarks" treelines>
                <option expanded>
                    <caption data-i18n>Fruits</caption>
                    <option data-i18n value="1" checked>Apple</option>
                    <option data-i18n value="2">Apricot</option>
                    <option data-i18n value="3" checked>Currant</option>
                </option>
                <option>
                    <caption data-i18n>Veggies</caption>
                    <option data-i18n value="4">Cabbage</option>
                    <option data-i18n value="5">Broccoli</option>
                    <option data-i18n value="6">Chicory</option>
                </option>
            </select>
        </tab>

        <tab title="menu">
            <!-- top level - menu bar, it must match ul#menu-bar selector, see std-menu.css -->
            <ul #menu-bar>
                <li>
                    <caption data-i18n>File</caption>
                    <menu>
                        <li data-i18n #menu-open>Open</li>
                        <li data-i18n>Save</li>
                    </menu>
                </li>
                <li>
                    <caption data-i18n>Edit</caption>
                    <menu>
                        <li data-i18n>Cut</li>
                        <li data-i18n>Copy</li>
                        <li data-i18n>Paste</li>
                        <li data-i18n>Convert
                            <menu>
                                <li data-i18n>Uppercase</li>
                                <li data-i18n>Lowercase</li>
                            </menu>
                        </li>
                    </menu>
                </li>
            </ul>

            <menu .bar>
                <li data-i18n filename="c:\windows\notepad.exe">notepad.exe</li>
                <li data-i18n filename="c:\windows\regedit.exe">regedit.exe</li>
                <li data-i18n filename="c:\windows\explorer.exe">explorer.exe</li>
            </menu>

            <ul id="menu-bar"> <!-- top level - menu bar, it must match ul#menu-bar selector, see std-menu.css -->
                <li data-i18n>
                    Simple
                    <menu class="cool">
                        <li data-i18n title="Hello world!">First item (with tooltip)</li>
                        <li data-i18n accesskey="^2">Second item<span class="accesskey">Ctrl+<font color="red">2</font></span></li>
                        <li data-i18n>
                            Third item
                            <menu>
                                <li data-i18n style="background:linear-gradient(left,yellow,red)">First sub-item</li>
                                <li data-i18n>Second sub-item</li>
                            </menu>
                        </li>
                        <li data-i18n accesskey="^4">Fourth item<span class="accesskey">Ctrl+<font color="red">4</font></span></li>
                    </menu>
                </li>
                <li data-i18n>
                    Simple 2
                    <menu class="cool">
                        <li data-i18n>First item</li>
                        <li data-i18n>Second item</li>
                        <li data-i18n>Third item</li>
                    </menu>
                </li>
                <li data-i18n>Inputs
                    <menu>
                        <li data-i18n type="radio">First radio item</li>
                        <li data-i18n type="radio">Second radio item</li>
                        <li data-i18n type="radio">Third radio item</li>
                        <hr/>
                        <li data-i18n type="check">First check item</li>
                        <li data-i18n type="check">Second check item</li>
                        <li data-i18n type="check">Third check item</li>
                        <hr/>
                        <li data-i18n>Volume is <input type="hslider" max="10" value="0" buddy="volume-buddy" /> <b id="volume-buddy">x</b> Db</li>
                    </menu>
                </li>

                <li data-i18n>Complex
                    <menu class="cool">
                        <li>
                            <input type="radio" />First
                            <input type="radio" />Second
                            <input type="radio" />Third
                        </li>
                        <hr/>
                        <li data-i18n type="check">First check item</li>
                        <li data-i18n type="check">Second check item</li>
                        <li data-i18n type="check">Third check item</li>
                        <hr/>
                        <li>
                            Volume is <input type="hslider" max="10" value="0" step="0.1" buddy="volume-buddy2" /> <b id="volume-buddy2">x</b> Db
                        </li>
                        <li>
                            Value: <input type="number" size=4 step=1 minvalue=0 maxvalue=100 value="25" />
                        </li>
                        <li>
                            <button name="just-a-button">Just a button</button>
                        </li>
                        <li data-i18n>dropdown select:
                            <select>
                                <option data-i18n>First</option>
                                <option data-i18n>Second</option>
                                <option data-i18n>Third</option>
                            </select>
                        </li>
                    </menu>
                </li>
            </ul>

            <button data-i18n type="menu">Left click menu
                <menu class="office">
                    <li data-i18n title="hello!">First item</li>
                    <li data-i18n>Second item</li>
                    <li data-i18n>Third item
                        <menu>
                            <li data-i18n>First sub-item</li>
                            <li data-i18n>Second sub-item</li>
                        </menu>
                    </li>
                    <li data-i18n>Fourth item</li>
                </menu>
            </button>

            <button data-i18n .context-menu>Right click menu</button>
            <menu .context #context>
                <li data-i18n>First item</li>
                <li data-i18n>Second item</li>
                <li data-i18n>Third item</li>
                <li data-i18n>Fourth item</li>
                <li data-i18n>
                    Sub menu
                    <menu>
                        <li data-i18n>item</li>
                        <li data-i18n>item</li>
                    </menu>
                </li>
            </menu>
        </tab>
        <tab title="dialogs">
            <button #info data-i18n>info</button>
            <button #error data-i18n>error</button>
            <button #warning data-i18n>warning</button>
            <button #question data-i18n>question</button>
            <button #file data-i18n>select file</button>
            <button #folder data-i18n>select folder</button>
        </tab>
    </pagecontrol>
    <plaintext #logger />
</body>
</html>
